<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Delete Book</title>
    <link rel="stylesheet" href="css/delstyle.css">
    <link rel="stylesheet" href="lib/fontawesome-free-5.11.2-web/css/all.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>
<body>
<div id="container">
    <div id="form">
        <form class="form">
            <div id="input">
                <h4>Book Manager</h4>
                <div class="row">
                    <div class=" add" id="id_bound">
                        <div class="">ID</div>
                        <div class=" "><input type="text" class="input_field" id="id" ></div>
                    </div>
                    <div class=" add">
                        <div class="">NAME</div>
                        <div class=" "><input type="text" class="input_field" id="name"></div>
                    </div>
                    <div class=" add">
                        <div class="">AUTHOR</div>
                        <div class=" "><select name="au" id="au">
                            <option name="au" value="Nguyễn Nhật Ánh">Nguyễn Nhật Ánh</option>
                            <option name="au" value="Hoàng Diệu">Hoàng Diệu</option>
                            <option name="au" value="Robert Chan">Robert Chan</option>
                            <option name="au" value="Cẩm Lan">Cẩm Lan</option>
                            <option name="au" value="Mr Abe">Mr Abe</option>
                        </select></div>
                    </div>
                    <div class=" add">
                        <div class="">TYPE</div>
                        <div class=" "><select name="type" id="type">
                            <option name="type" value="Truyện ngắn">Truyện ngắn</option>
                            <option name="type" value="Truyện dài">Truyện dài</option>
                            <option name="type" value="Tiểu thuyết">Tiểu thuyết</option>
                            <option name="type" value="Thơ">Thơ</option>
                        </select></div>
                    </div>
                </div>
                <div class=" row">
                    <button type="button" onclick="add()" class="button add_but"><i class="fas fa-plus"
                                                                                    aria-hidden="true"></i><span>Add
                        New</span>
                    </button>
                </div>
            </div>
            <div id="del">
                <div class="br"></div>
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">STT</th>
                        <th scope="col">ID</th>
                        <th scope="col">NAME</th>
                        <th scope="col">AUTHOR</th>
                        <th scope="col">DATE</th>
                        <th scope="col">TYPE</th>
                    </tr>
                    </thead>
                    <tbody id="body">
                    <tr>
                        <td class="stt">1</td>
                        <td>A001</td>
                        <td>Tôi thấy hoa vang trên cỏ xanh</td>
                        <td>Nguyễn Nhật Ánh</td>
                        <td>1/1/2019</td>
                        <td>Truyện ngắn</td>
                        <td>
                            <div>
                                <button onclick="edit()" type="button" class="edit"><i class="fas fa-user-edit"></i>
                                </button>
                                <button onclick="deleteitem()" type="button" class="delete "><i
                                        class="fas fa-trash-alt"></i></button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="stt">2</td>
                        <td>A002</td>
                        <td>Tôi là bê tô</td>
                        <td>Nguyễn Nhật Ánh</td>
                        <td>1/1/2019</td>
                        <td>Truyện ngắn</td>
                        <td>
                            <div>
                                <button onclick="edit()" type="button" class="edit"><i class="fas fa-user-edit"></i>
                                </button>
                                <button onclick="deleteitem()" type="button" class=" delete"><i
                                        class="fas fa-trash-alt"></i></button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="stt">3</td>
                        <td>A003</td>
                        <td>Cho tôi xin một vé đi tuổi thơ</td>
                        <td>Nguyễn Nhật Ánh</td>
                        <td>1/1/2019</td>
                        <td>Truyện ngắn</td>
                        <td>
                            <div>
                                <button onclick="edit()" type="button" class="edit"><i class="fas fa-user-edit"></i>
                                </button>
                                <button onclick="deleteitem()" type="button" class="  delete"><i
                                        class="fas fa-trash-alt"></i></button>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>


            </div>
            <div id="button">
                <button class="button">Exit</button>
                <button onclick="save()" type="button" class="button">Save</button>
            </div>
        </form>
    </div>
</div>
<script>

    var stt = 3;

    function add() {
        stt++;
        console.log(stt);
        var id = document.getElementById('id').value
        var name = document.getElementById('name').value;
        var au = document.getElementById('au').value;
        var type = document.getElementById('type').value;
        if (id == '') {
            alert('Nhập id');
            return;
        } else if (name == '') {
            alert('Nhập name');
            return;
        } else if (au == '') {
            alert('Nhập tên tác giả');
            return;
        }
            var date = new Date();
            var day = date.getDay();
            var month= date.getMonth();
            var year = date.getFullYear();
            var row = '<tr>' +
                '<td >' + stt + '</td>' +
                '<td>' + id + '</td>' +
                '<td>' + name + '</td>' +
                '<td>' + au + '</td>' +
                '<td>' + day+'/'+month+'/'+year + '</td>' +
                '<td>' + type + '</td>' +
                '<td>  <div>   <button onclick="edit()" type="button" class="edit"> <i class="fas fa-user-edit">' +
                '</i></button> <button onclick="deleteitem()" type="button" class=" delete"> <i class="fas fa-trash-alt">' +
                '</i></button> </div> </td>' +
                '</tr>';
            $(".table").append(row);


        }

        // Edit row on edit button click
        function edit() {
            $('button:focus').parents("tr").find("td:not(:last-child)").each(function () {
                console.log($(this).text)
                $(this).html('<input type="text" class="form-control" value="' + $(this).text() + '">');
            });
        }

        function save() {
            $('button:focus').parents("del").find("table").find('input').each(function () {
                console.log($(this))
                $(this).html($(this).value);
            });
        }

        function deleteitem() {
            stt--;
            $('button:focus').parents("tr").remove();
        }

    // // Delete row on delete button click
    // $(document).on("click", ".delete", function () {
    //     $(this).parents("tr").remove();
    // });

</script>
</body>
</html>